//
//   Generated by https://github.com/blacktop/ipsw (Version: v3.1.508, BuildCommit: 5831334d9)
//
//    - LC_BUILD_VERSION:  Platform: macOS, MinOS: 14.3, SDK: 14.3, Tool: ld (902.8)
//    - LC_BUILD_VERSION:  Platform: macCatalyst, MinOS: 17.3, SDK: 17.3, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 4023.440.1.0.0
//
#ifndef MRDestinationResolver_h
#define MRDestinationResolver_h
@import Foundation;

#include "MRAVEndpoint.h"
#include "MRAVEndpointObserver.h"
#include "MRDestination.h"
#include "MRDestinationResolverDelegate-Protocol.h"
#include "MRDestinationResolverDependencies.h"
#include "MROrigin.h"
#include "MRPlayerPath.h"

@class MSVVariableIntervalTimer;
@protocol OS_dispatch_queue;

@interface MRDestinationResolver : NSObject

@property(retain, nonatomic) NSObject<OS_dispatch_queue> *serialQueue;
@property(retain, nonatomic) NSObject<OS_dispatch_queue> *delegateQueue;
@property(retain, nonatomic) MRDestinationResolverDependencies *dependencies;
@property(nonatomic) _Bool resolving;
@property(nonatomic) _Bool registeredForNotifications;
@property(nonatomic) _Bool registeredForEndpointChanges;
@property(nonatomic) _Bool registeredForEndpointInvalidations;
@property(nonatomic) _Bool registeredForPlayerPathInvalidations;
@property(retain, nonatomic) id playerPathInvalidationObserver;
@property(retain, nonatomic) MRAVEndpointObserver *endpointObserver;
@property(retain, nonatomic) NSString *endpointObserverGroupUID;
@property(retain, nonatomic) MRDestination *originalDestination;
@property(retain, nonatomic) MRAVEndpoint *delegateEndpoint;
@property(retain, nonatomic) MROrigin *delegateOrigin;
@property(retain, nonatomic) MRPlayerPath *delegatePlayerPath;
@property(retain, nonatomic) MRAVEndpoint *resolvingEndpoint;
@property(retain, nonatomic) MRPlayerPath *resolvingPlayerPath;
@property(retain, nonatomic) MSVVariableIntervalTimer *reconRetryTimer;
@property(retain, nonatomic) MSVVariableIntervalTimer *connectionRetryTimer;
@property(weak, nonatomic) id<MRDestinationResolverDelegate> delegate;
@property(readonly, copy, nonatomic) MRDestination *destination;
@property(readonly, nonatomic) NSString *label;

/* class methods */
+ (void)resolveDestination:(id)destination
                     level:(long long)level
                   timeout:(double)timeout
                completion:(id /* block */)completion;
+ (void)resolveDestination:(id)destination
                   timeout:(double)timeout
                completion:(id /* block */)completion;
+ (void)resolvePartialDestination:(id)destination
                            level:(long long)level
                          timeout:(double)timeout
                       completion:(id /* block */)completion;
+ (void)resolvePartialDestination:(id)destination
                            level:(long long)level
                          timeout:(double)timeout
                     dependencies:(id)dependencies
                       completion:(id /* block */)completion;

/* instance methods */
- (void)dealloc;
- (id)debugDescription;
- (id)description;
- (void)resolve;
- (void)notifyDelegateOfEndpointChange:(id)change;
- (void)onQueue_clearStateForPlayerPath;
- (void)resolveForUnresolvedPlayerPath:(id)path;
- (void)_handleEndpointDidDisconnectNotification:(id)notification;
- (void)beginResolving;
- (void)createPlayerPathForEndpoint:(id)endpoint
                             client:(id)client
                             player:(id)player
                         completion:(id /* block */)completion;
- (void)endpointDidDisconnect:(id)disconnect;
- (void)handleActiveSystemEndpointChangedNotification:(id)notification;
- (void)handleEndpointChanged;
- (void)handleEndpointInvalidated;
- (void)handleEndpointResolution:(id)resolution
                          client:(id)client
                          player:(id)player
                          source:(id)source
                           error:(id)error;
- (void)handlePlayerPathInvalidatedWithPlayerPath:(id)path;
- (id)initWithDestination:(id)destination label:(id)label;
- (id)initWithDestination:(id)destination label:(id)label dependencies:(id)dependencies;
- (_Bool)isDynamicEndpoint;
- (_Bool)isProactiveEndpoint;
- (_Bool)isUserSelectedEndpoint;
- (void)notifyDelegateOfError:(id)error;
- (void)notifyDelegateOfInvalidation;
- (void)notifyDelegateOfOriginChange:(id)change;
- (void)notifyDelegateOfPlayerPathChange:(id)change;
- (void)onQueue_clearStateForEndpoint;
- (void)onQueue_clearStateForOutputDeviceUID;
- (void)onQueue_registerForEndpointInvalidations:(id)invalidations;
- (void)onQueue_registerForPlayerPathInvalidationsForUnresolvedPlayerPath:(id)path;
- (void)onQueue_retrieveEndpointForContextUID:(id)uid completion:(id /* block */)completion;
- (void)onQueue_retrieveEndpointForUID:(id)uid completion:(id /* block */)completion;
- (void)onQueue_setEndpoint:(id)endpoint;
- (void)onQueue_setOrigin:(id)origin;
- (void)onQueue_setResolvedPlayerPath:(id)path;
- (void)onQueue_setUnresolvedPlayerPath:(id)path;
- (void)registerForEndpointChangesForOutputDeviceUID:(id)uid;
- (void)resolveForEndpoint:(id)endpoint client:(id)client player:(id)player;
- (void)resolveForOutputContextUID:(id)uid client:(id)client player:(id)player;
- (void)resolveForOutputDeviceUID:(id)uid client:(id)client player:(id)player;
- (void)resolveForResolvedPlayerPath:(id)path;
- (void)resolvePlayerPath:(id)path completion:(id /* block */)completion;
- (void)unregisterForEndpointChanges;
- (void)unregisterForEndpointInvalidations;
- (void)unregisterForPlayerPathInvalidations;

@end

#endif /* MRDestinationResolver_h */
